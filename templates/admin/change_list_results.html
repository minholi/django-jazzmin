{% load i18n static %}

{% if result_hidden_fields %}
<div class="hiddenfields">
    {% for item in result_hidden_fields %}{{ item }}{% endfor %}
</div>
{% endif %}
{% if results %}
    <div class="card">
        <div class="card-body table-responsive p-0">
            <table class="table table-striped">
                <thead>
                <tr>
                    {% for header in result_headers %}
                    <th {% if header.sortable %}
                        {% if header.sorted %}
                        {% if header.ascending %}
                        class="sorting_asc"
                        {% else %}
                        class="sorting_desc"
                        {% endif %}
                        {% else %}
                        class="sorting"
                        {% endif %}
                        {% endif %}
                        {% if forloop.counter0 == 0 %}
                        class="djn-checkbox-select-all"
                        {% endif %}
                        tabindex="0" rowspan="1" colspan="1">
                        <div class="text">
                            {% if header.sortable %}
                            <a href="{{ header.url_primary }}">{{ header.text|capfirst }}</a>
                            {% else %}
                            <span>{{ header.text|capfirst }}</span>
                            {% endif %}
                            {% if header.sorted %}
                            <a href="{{ header.url_remove }}">
                                <div style="margin-top: .2em;" class="fa fa-times float-right"> </div>
                            </a>
                            {% if header.ascending %}
                            <i style="margin-top: .2em;" class="fa fa-sort-alpha-down"> </i>
                            {% else %}
                            <i style="margin-top: .2em;" class="fa fa-sort-alpha-up"> </i>
                            {% endif %}
                            {% endif %}
                        </div>
                    </th>
                    {% endfor %}
                </tr>
                </thead>
                <tbody>
                {% for result in results %}
                <tr role="row" class="{% cycle 'even' 'odd' %}">
                    {% for item in result %}{{ item }}{% endfor %}
                </tr>
                {% endfor %}
                </tbody>
            </table>
        </div>
    </div>
{% endif %}
